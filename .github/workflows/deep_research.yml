name: Deep Research

on:
  push:
    branches:
      - main

jobs:
  deep_research:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v3

      - name: Set up Python
        uses: actions/setup-python@v3
        with:
          python-version: 3.10

      - name: Install dependencies
        run: |
          pip install -r examples/open_deep_research/requirements.txt
          pip install -e ../../.[dev]

      - name: Run deep research agent
        env:
          SERPAPI_API_KEY: ${{ secrets.SERPAPI_API_KEY }}
          OPENAI_API_KEY: ${{ secrets.OPENAI_API_KEY }}
        run: python examples/open_deep_research/run.py --model-id "o1" "What are the latest advancements in AI?"
